<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>КіноТека</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
    <header th:insert="blocks/header-film"></header>

    <br>
    <br>

    <div class="container mt-5 mb-5">
        <h1>Додавання інформації про фільм</h1>
        <form action="/new/add" th:action="@{/new/add}" method="post" th:object="${post}">
            <label>Введіть назву фільму: </label>
            <input type="text" name="film_name"  class="form-control" th:field="*{film_name}"/>
            <div style="color:red" th:if="${#fields.hasErrors('film_name')}" th:errors="*{film_name}">Name error</div><br>

            <label>Введіть бюджет фільму: </label>
            <input type="text" name="budget" class="form-control" th:field="*{budget}"/>
            <div style="color:red" th:if="${#fields.hasErrors('budget')}" th:errors="*{budget}" >Name error</div><br>

            <label>Введіть рік виходу: </label>
            <input type="text" name="year"  class="form-control">
            <div style="color:red" th:if="${#fields.hasErrors('year')}" th:errors="*{year}">Name error</div><br>

            <label>Введіть посилання на постер: </label>
            <input type="text" name="poster" class="form-control">
            <div style="color:red" th:if="${#fields.hasErrors('poster')}" th:errors="*{poster}" >Name error</div><br>

            <label>Оберіть жанр фільму: </label>

            <select th:name="genres" multiple="true" class="d-flex justify-content-center form-select" aria-label="Default select example">
                <option th:each="g : ${genres}" th:value="${g.id}" th:text="${g.genre_name}">Genre</option>
            </select><br>

            <label>Актори: </label>
            <select th:name="actors" multiple="true"  class="d-flex justify-content-center form-select" aria-label="Default select example" >
                <option th:each="a : ${actors}" th:value="${a.id}" th:text="${a.first_name} + ' ' + ${a.last_name}">Актор</option>
            </select><br>

            <label>Режисер фільму: </label>
            <select th:name="directors" multiple="true" class="d-flex justify-content-center form-select" aria-label="Default select example" value="1" >
                <option th:each="d : ${directors}" th:value="${d.id}" th:text="${d.name}">Director</option>
            </select><br>

            <label>Країна: </label>
            <select th:name="country" multiple="true" class="d-flex justify-content-center form-select" aria-label="Default select example" value="1" >
                <option th:each="c : ${countries}" th:value="${c.id}" th:text="${c.name}">Country</option>
            </select><br>

            <label>Опис фільму: </label>
            <textarea name="title"  class="form-control"></textarea><br>
            <div style="color:red" th:if="${#fields.hasErrors('title')}" th:errors="*{title}" >Name error</div><br>

            <button type="submit" class="btn btn-success">Додати фільм</button><br>
        </form>
    </div>

    <footer th:insert="blocks/footer"></footer>
</body>
</html>